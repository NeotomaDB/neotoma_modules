{"expireTime":9007200907155982000,"key":"transformer-remark-markdown-ast-86ee951ef79beb581751c5c65f9dd41d-gatsby-remark-copy-linked-filesgatsby-remark-prismjsgatsby-remark-smartypantsgatsby-remark-imagesgatsby-remark-unwrap-images-","val":{"type":"root","children":[{"type":"html","value":"<exercise id=\"0\" title=\"Introduction\" type=\"slides\">","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":53,"offset":53},"indent":[]}},{"type":"html","value":"<slides source=\"chapter2_01_introduction\">","position":{"start":{"line":4,"column":1,"offset":55},"end":{"line":4,"column":43,"offset":97},"indent":[]}},{"type":"html","value":"</slides>","position":{"start":{"line":6,"column":1,"offset":99},"end":{"line":6,"column":10,"offset":108},"indent":[]}},{"type":"html","value":"</exercise>","position":{"start":{"line":8,"column":1,"offset":110},"end":{"line":8,"column":12,"offset":121},"indent":[]}},{"type":"html","value":"<exercise id=\"1\" title=\"get_sites()\">","position":{"start":{"line":10,"column":1,"offset":123},"end":{"line":10,"column":38,"offset":160},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Sites","position":{"start":{"line":12,"column":6,"offset":167},"end":{"line":12,"column":11,"offset":172},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":162},"end":{"line":12,"column":11,"offset":172},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"get_sites()","position":{"start":{"line":14,"column":1,"offset":174},"end":{"line":14,"column":14,"offset":187},"indent":[]}},{"type":"text","value":" is the most basic core command to help the user get metadata from a site. ","position":{"start":{"line":14,"column":14,"offset":187},"end":{"line":14,"column":89,"offset":262},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":174},"end":{"line":14,"column":89,"offset":262},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Check out the most simple usage in action","position":{"start":{"line":16,"column":1,"offset":264},"end":{"line":16,"column":42,"offset":305},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":264},"end":{"line":16,"column":42,"offset":305},"indent":[]}},{"type":"image","title":null,"url":"https://github.com/NeotomaDB/neotoma_workshop/blob/main/static/module2/sites_id.gif?raw=true","alt":"img","position":{"start":{"line":18,"column":1,"offset":307},"end":{"line":18,"column":101,"offset":407},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Now, try it out yourself! Change the two __ for your favourite number and run the code!","position":{"start":{"line":20,"column":1,"offset":409},"end":{"line":20,"column":88,"offset":496},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":409},"end":{"line":20,"column":88,"offset":496},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The first time you run this code, it might take a couple of minutes to get it started.","position":{"start":{"line":22,"column":1,"offset":498},"end":{"line":22,"column":87,"offset":584},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":498},"end":{"line":22,"column":87,"offset":584},"indent":[]}},{"type":"html","value":"<codeblock id=\"02_01\">","position":{"start":{"line":24,"column":1,"offset":586},"end":{"line":24,"column":23,"offset":608},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Change the __ for a number","position":{"start":{"line":26,"column":1,"offset":610},"end":{"line":26,"column":27,"offset":636},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":610},"end":{"line":26,"column":27,"offset":636},"indent":[]}},{"type":"html","value":"</codeblock>","position":{"start":{"line":28,"column":1,"offset":638},"end":{"line":28,"column":13,"offset":650},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can also pass a vector with numbers and execute ","position":{"start":{"line":30,"column":1,"offset":652},"end":{"line":30,"column":53,"offset":704},"indent":[]}},{"type":"inlineCode","value":"get_sites()","position":{"start":{"line":30,"column":53,"offset":704},"end":{"line":30,"column":66,"offset":717},"indent":[]}},{"type":"text","value":" to obtain multiple records at once:","position":{"start":{"line":30,"column":66,"offset":717},"end":{"line":30,"column":102,"offset":753},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":652},"end":{"line":30,"column":102,"offset":753},"indent":[]}},{"type":"image","title":null,"url":"https://github.com/NeotomaDB/neotoma_workshop/blob/main/static/module2/sites_list.gif?raw=true","alt":"img","position":{"start":{"line":32,"column":1,"offset":755},"end":{"line":32,"column":103,"offset":857},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Try it yourself! ","position":{"start":{"line":34,"column":1,"offset":859},"end":{"line":34,"column":18,"offset":876},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":859},"end":{"line":34,"column":18,"offset":876},"indent":[]}},{"type":"html","value":"<codeblock id=\"02_02\">","position":{"start":{"line":36,"column":1,"offset":878},"end":{"line":36,"column":23,"offset":900},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Change the __ for a vector of number","position":{"start":{"line":38,"column":1,"offset":902},"end":{"line":38,"column":37,"offset":938},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":902},"end":{"line":38,"column":37,"offset":938},"indent":[]}},{"type":"html","value":"</codeblock>","position":{"start":{"line":40,"column":1,"offset":940},"end":{"line":40,"column":13,"offset":952},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Searching by Name","position":{"start":{"line":42,"column":5,"offset":958},"end":{"line":42,"column":22,"offset":975},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":954},"end":{"line":42,"column":22,"offset":975},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can also search for a record by using its name; for this, you need to use the argument ","position":{"start":{"line":44,"column":1,"offset":977},"end":{"line":44,"column":92,"offset":1068},"indent":[]}},{"type":"inlineCode","value":"sitename=","position":{"start":{"line":44,"column":92,"offset":1068},"end":{"line":44,"column":103,"offset":1079},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":44,"column":103,"offset":1079},"end":{"line":44,"column":104,"offset":1080},"indent":[]}}],"position":{"start":{"line":44,"column":1,"offset":977},"end":{"line":44,"column":104,"offset":1080},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can pass an exact name or you can use wildcards ","position":{"start":{"line":46,"column":1,"offset":1082},"end":{"line":46,"column":53,"offset":1134},"indent":[]}},{"type":"inlineCode","value":"%","position":{"start":{"line":46,"column":53,"offset":1134},"end":{"line":46,"column":56,"offset":1137},"indent":[]}},{"type":"text","value":" for an approximate name.","position":{"start":{"line":46,"column":56,"offset":1137},"end":{"line":46,"column":81,"offset":1162},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":1082},"end":{"line":46,"column":81,"offset":1162},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Remember that a name is a string and so, it must be passed between single ","position":{"start":{"line":48,"column":1,"offset":1164},"end":{"line":48,"column":75,"offset":1238},"indent":[]}},{"type":"inlineCode","value":"'","position":{"start":{"line":48,"column":75,"offset":1238},"end":{"line":48,"column":78,"offset":1241},"indent":[]}},{"type":"text","value":" or double quotations ","position":{"start":{"line":48,"column":78,"offset":1241},"end":{"line":48,"column":100,"offset":1263},"indent":[]}},{"type":"inlineCode","value":"\"","position":{"start":{"line":48,"column":100,"offset":1263},"end":{"line":48,"column":103,"offset":1266},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":48,"column":103,"offset":1266},"end":{"line":48,"column":104,"offset":1267},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":1164},"end":{"line":48,"column":104,"offset":1267},"indent":[]}},{"type":"image","title":null,"url":"https://github.com/NeotomaDB/neotoma_workshop/blob/main/static/module2/sites_name.gif?raw=true","alt":"img","position":{"start":{"line":50,"column":1,"offset":1269},"end":{"line":50,"column":103,"offset":1371},"indent":[]}},{"type":"html","value":"<codeblock id=\"02_03\">","position":{"start":{"line":52,"column":1,"offset":1373},"end":{"line":52,"column":23,"offset":1395},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Change the name. Play around with wildcards and see what happens! ","position":{"start":{"line":54,"column":1,"offset":1397},"end":{"line":54,"column":67,"offset":1463},"indent":[]}}],"position":{"start":{"line":54,"column":1,"offset":1397},"end":{"line":54,"column":67,"offset":1463},"indent":[]}},{"type":"html","value":"</codeblock>","position":{"start":{"line":56,"column":1,"offset":1465},"end":{"line":56,"column":13,"offset":1477},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"There are other arguments you can use in ","position":{"start":{"line":58,"column":1,"offset":1479},"end":{"line":58,"column":42,"offset":1520},"indent":[]}},{"type":"inlineCode","value":"get_sites()","position":{"start":{"line":58,"column":42,"offset":1520},"end":{"line":58,"column":55,"offset":1533},"indent":[]}},{"type":"text","value":" such as ","position":{"start":{"line":58,"column":55,"offset":1533},"end":{"line":58,"column":64,"offset":1542},"indent":[]}},{"type":"inlineCode","value":"altmin","position":{"start":{"line":58,"column":64,"offset":1542},"end":{"line":58,"column":72,"offset":1550},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":58,"column":72,"offset":1550},"end":{"line":58,"column":76,"offset":1554},"indent":[]}},{"type":"inlineCode","value":"altmax","position":{"start":{"line":58,"column":76,"offset":1554},"end":{"line":58,"column":84,"offset":1562},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":58,"column":84,"offset":1562},"end":{"line":58,"column":85,"offset":1563},"indent":[]}}],"position":{"start":{"line":58,"column":1,"offset":1479},"end":{"line":58,"column":85,"offset":1563},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Remember you can combine arguments as well!!","position":{"start":{"line":60,"column":1,"offset":1565},"end":{"line":60,"column":45,"offset":1609},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":1565},"end":{"line":60,"column":45,"offset":1609},"indent":[]}},{"type":"html","value":"<codeblock id=\"02_04\">","position":{"start":{"line":62,"column":1,"offset":1611},"end":{"line":62,"column":23,"offset":1633},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Play with different altitudes and sitenames.","position":{"start":{"line":64,"column":1,"offset":1635},"end":{"line":64,"column":45,"offset":1679},"indent":[]}}],"position":{"start":{"line":64,"column":1,"offset":1635},"end":{"line":64,"column":45,"offset":1679},"indent":[]}},{"type":"html","value":"</codeblock>","position":{"start":{"line":66,"column":1,"offset":1681},"end":{"line":66,"column":13,"offset":1693},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Accessing a site’s metadata","position":{"start":{"line":68,"column":6,"offset":1700},"end":{"line":68,"column":33,"offset":1727},"indent":[]}}],"position":{"start":{"line":68,"column":1,"offset":1695},"end":{"line":68,"column":33,"offset":1727},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"sites","position":{"start":{"line":70,"column":1,"offset":1729},"end":{"line":70,"column":8,"offset":1736},"indent":[]}},{"type":"text","value":" are composed of several smaller objects of class ","position":{"start":{"line":70,"column":8,"offset":1736},"end":{"line":70,"column":58,"offset":1786},"indent":[]}},{"type":"inlineCode","value":"site","position":{"start":{"line":70,"column":58,"offset":1786},"end":{"line":70,"column":64,"offset":1792},"indent":[]}},{"type":"text","value":".\nWe can call any individual site using ","position":{"start":{"line":70,"column":64,"offset":1792},"end":{"line":71,"column":39,"offset":1832},"indent":[1]}},{"type":"inlineCode","value":"[[ ]]","position":{"start":{"line":71,"column":39,"offset":1832},"end":{"line":71,"column":46,"offset":1839},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":1729},"end":{"line":71,"column":46,"offset":1839},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"A single ","position":{"start":{"line":73,"column":1,"offset":1841},"end":{"line":73,"column":10,"offset":1850},"indent":[]}},{"type":"inlineCode","value":"site","position":{"start":{"line":73,"column":10,"offset":1850},"end":{"line":73,"column":16,"offset":1856},"indent":[]}},{"type":"text","value":" object has a lot of data.  You can access a site’s data using ","position":{"start":{"line":73,"column":16,"offset":1856},"end":{"line":73,"column":79,"offset":1919},"indent":[]}},{"type":"inlineCode","value":"$","position":{"start":{"line":73,"column":79,"offset":1919},"end":{"line":73,"column":82,"offset":1922},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":73,"column":82,"offset":1922},"end":{"line":73,"column":83,"offset":1923},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":1841},"end":{"line":73,"column":83,"offset":1923},"indent":[]}},{"type":"html","lang":null,"meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">site[[1]]$siteid</code></pre></div>","position":{"start":{"line":75,"column":1,"offset":1925},"end":{"line":77,"column":4,"offset":1949},"indent":[1,1]}},{"type":"image","title":null,"url":"","alt":"gif","position":{"start":{"line":79,"column":1,"offset":1951},"end":{"line":79,"column":9,"offset":1959},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Some of the fields you can access are:","position":{"start":{"line":81,"column":1,"offset":1961},"end":{"line":81,"column":39,"offset":1999},"indent":[]}}],"position":{"start":{"line":81,"column":1,"offset":1961},"end":{"line":81,"column":39,"offset":1999},"indent":[]}},{"type":"html","lang":"markdown","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre class=\"language-markdown\"><code class=\"language-markdown\">siteid\nsitename\nlat\nlong\narea\nnotes\ndescription</code></pre></div>","position":{"start":{"line":82,"column":1,"offset":2000},"end":{"line":90,"column":4,"offset":2063},"indent":[1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Try it out!","position":{"start":{"line":92,"column":1,"offset":2065},"end":{"line":92,"column":12,"offset":2076},"indent":[]}}],"position":{"start":{"line":92,"column":1,"offset":2065},"end":{"line":92,"column":12,"offset":2076},"indent":[]}},{"type":"html","value":"<codeblock id=\"02_05\">","position":{"start":{"line":94,"column":1,"offset":2078},"end":{"line":94,"column":23,"offset":2100},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Play with different altitudes and sitenames.","position":{"start":{"line":96,"column":1,"offset":2102},"end":{"line":96,"column":45,"offset":2146},"indent":[]}}],"position":{"start":{"line":96,"column":1,"offset":2102},"end":{"line":96,"column":45,"offset":2146},"indent":[]}},{"type":"html","value":"</codeblock>","position":{"start":{"line":98,"column":1,"offset":2148},"end":{"line":98,"column":13,"offset":2160},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Exercise","position":{"start":{"line":100,"column":6,"offset":2167},"end":{"line":100,"column":14,"offset":2175},"indent":[]}}],"position":{"start":{"line":100,"column":1,"offset":2162},"end":{"line":100,"column":14,"offset":2175},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Using dplyr and sites attributes, retrieve all ids from a ","position":{"start":{"line":102,"column":1,"offset":2177},"end":{"line":102,"column":59,"offset":2235},"indent":[]}},{"type":"inlineCode","value":"sites","position":{"start":{"line":102,"column":59,"offset":2235},"end":{"line":102,"column":66,"offset":2242},"indent":[]}},{"type":"text","value":" object","position":{"start":{"line":102,"column":66,"offset":2242},"end":{"line":102,"column":73,"offset":2249},"indent":[]}}],"position":{"start":{"line":102,"column":1,"offset":2177},"end":{"line":102,"column":73,"offset":2249},"indent":[]}},{"type":"html","value":"<codeblock id=\"02_06\">","position":{"start":{"line":104,"column":1,"offset":2251},"end":{"line":104,"column":23,"offset":2273},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Convert a sites object to a dataframe.\nExtract the column of ids","position":{"start":{"line":106,"column":1,"offset":2275},"end":{"line":107,"column":26,"offset":2339},"indent":[1]}}],"position":{"start":{"line":106,"column":1,"offset":2275},"end":{"line":107,"column":26,"offset":2339},"indent":[1]}},{"type":"html","value":"</codeblock>","position":{"start":{"line":109,"column":1,"offset":2341},"end":{"line":109,"column":13,"offset":2353},"indent":[]}},{"type":"html","value":"</exercise>","position":{"start":{"line":111,"column":1,"offset":2355},"end":{"line":111,"column":12,"offset":2366},"indent":[]}},{"type":"html","value":"<exercise id=\"2\" title=\"get_datasets()\">","position":{"start":{"line":113,"column":1,"offset":2368},"end":{"line":113,"column":41,"offset":2408},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Datasets","position":{"start":{"line":115,"column":6,"offset":2415},"end":{"line":115,"column":14,"offset":2423},"indent":[]}}],"position":{"start":{"line":115,"column":1,"offset":2410},"end":{"line":115,"column":14,"offset":2423},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you need to get to a deeper level of the sites object, you may want to look at the ","position":{"start":{"line":117,"column":1,"offset":2425},"end":{"line":117,"column":87,"offset":2511},"indent":[]}},{"type":"inlineCode","value":"get_datasets()","position":{"start":{"line":117,"column":87,"offset":2511},"end":{"line":117,"column":103,"offset":2527},"indent":[]}},{"type":"text","value":" function.  You can use ","position":{"start":{"line":117,"column":103,"offset":2527},"end":{"line":117,"column":127,"offset":2551},"indent":[]}},{"type":"inlineCode","value":"get_datasets()","position":{"start":{"line":117,"column":127,"offset":2551},"end":{"line":117,"column":143,"offset":2567},"indent":[]}},{"type":"text","value":" using search parameters, or you can use it on an existing ","position":{"start":{"line":117,"column":143,"offset":2567},"end":{"line":117,"column":202,"offset":2626},"indent":[]}},{"type":"inlineCode","value":"sites","position":{"start":{"line":117,"column":202,"offset":2626},"end":{"line":117,"column":209,"offset":2633},"indent":[]}},{"type":"text","value":" object, such as our prior ","position":{"start":{"line":117,"column":209,"offset":2633},"end":{"line":117,"column":236,"offset":2660},"indent":[]}},{"type":"inlineCode","value":"alex","position":{"start":{"line":117,"column":236,"offset":2660},"end":{"line":117,"column":242,"offset":2666},"indent":[]}},{"type":"text","value":" dataset.","position":{"start":{"line":117,"column":242,"offset":2666},"end":{"line":117,"column":251,"offset":2675},"indent":[]}}],"position":{"start":{"line":117,"column":1,"offset":2425},"end":{"line":117,"column":251,"offset":2675},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"get_datasets()","position":{"start":{"line":119,"column":1,"offset":2677},"end":{"line":119,"column":17,"offset":2693},"indent":[]}},{"type":"text","value":" adds additional metadata to the ","position":{"start":{"line":119,"column":17,"offset":2693},"end":{"line":119,"column":50,"offset":2726},"indent":[]}},{"type":"inlineCode","value":"site","position":{"start":{"line":119,"column":50,"offset":2726},"end":{"line":119,"column":56,"offset":2732},"indent":[]}},{"type":"text","value":" objects, letting us know which ","position":{"start":{"line":119,"column":56,"offset":2732},"end":{"line":119,"column":88,"offset":2764},"indent":[]}},{"type":"inlineCode","value":"datasettypes","position":{"start":{"line":119,"column":88,"offset":2764},"end":{"line":119,"column":102,"offset":2778},"indent":[]}},{"type":"text","value":" are associated with a site, and the dataset sample locations at the site.","position":{"start":{"line":119,"column":102,"offset":2778},"end":{"line":119,"column":176,"offset":2852},"indent":[]}}],"position":{"start":{"line":119,"column":1,"offset":2677},"end":{"line":119,"column":176,"offset":2852},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Getting the datasets by id is the easiest call, you can also pass a vector of IDs or if you already have a ","position":{"start":{"line":121,"column":1,"offset":2854},"end":{"line":121,"column":108,"offset":2961},"indent":[]}},{"type":"inlineCode","value":"sites","position":{"start":{"line":121,"column":108,"offset":2961},"end":{"line":121,"column":115,"offset":2968},"indent":[]}},{"type":"text","value":" object, you can pass a sites object. Be careful, ","position":{"start":{"line":121,"column":115,"offset":2968},"end":{"line":121,"column":165,"offset":3018},"indent":[]}},{"type":"inlineCode","value":"get_datasets()","position":{"start":{"line":121,"column":165,"offset":3018},"end":{"line":121,"column":181,"offset":3034},"indent":[]}},{"type":"text","value":" does not take ","position":{"start":{"line":121,"column":181,"offset":3034},"end":{"line":121,"column":196,"offset":3049},"indent":[]}},{"type":"inlineCode","value":"sitename","position":{"start":{"line":121,"column":196,"offset":3049},"end":{"line":121,"column":206,"offset":3059},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":121,"column":206,"offset":3059},"end":{"line":121,"column":210,"offset":3063},"indent":[]}},{"type":"inlineCode","value":"siteid","position":{"start":{"line":121,"column":210,"offset":3063},"end":{"line":121,"column":218,"offset":3071},"indent":[]}},{"type":"text","value":" as inputs, if you wish to use those you can chain ","position":{"start":{"line":121,"column":218,"offset":3071},"end":{"line":121,"column":269,"offset":3122},"indent":[]}},{"type":"inlineCode","value":"get_sites()","position":{"start":{"line":121,"column":269,"offset":3122},"end":{"line":121,"column":282,"offset":3135},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":121,"column":282,"offset":3135},"end":{"line":121,"column":287,"offset":3140},"indent":[]}},{"type":"inlineCode","value":"get_datasets()","position":{"start":{"line":121,"column":287,"offset":3140},"end":{"line":121,"column":303,"offset":3156},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":121,"column":303,"offset":3156},"end":{"line":121,"column":304,"offset":3157},"indent":[]}}],"position":{"start":{"line":121,"column":1,"offset":2854},"end":{"line":121,"column":304,"offset":3157},"indent":[]}},{"type":"html","lang":"{r","meta":"getdatasetsbyid}","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># Getting datasets by ID\nmy_datasets &lt;- get_datasets(c(5, 10, 15, 20))\nmy_datasets</code></pre></div>","position":{"start":{"line":123,"column":1,"offset":3159},"end":{"line":127,"column":4,"offset":3268},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"You can also retrieve datasets by type directly from the API.","position":{"start":{"line":129,"column":1,"offset":3270},"end":{"line":129,"column":62,"offset":3331},"indent":[]}}],"position":{"start":{"line":129,"column":1,"offset":3270},"end":{"line":129,"column":62,"offset":3331},"indent":[]}},{"type":"html","lang":"{r","meta":"getdatasetsbytype}","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># Getting datasets by type\nmy_pollen_datasets &lt;- get_datasets(datasettype = \"pollen\", limit = 25)\nmy_pollen_datasets</code></pre></div>","position":{"start":{"line":131,"column":1,"offset":3333},"end":{"line":135,"column":4,"offset":3478},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"It can be computationally intensive to obtain the full set of records for ","position":{"start":{"line":137,"column":1,"offset":3480},"end":{"line":137,"column":75,"offset":3554},"indent":[]}},{"type":"inlineCode","value":"sites","position":{"start":{"line":137,"column":75,"offset":3554},"end":{"line":137,"column":82,"offset":3561},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":137,"column":82,"offset":3561},"end":{"line":137,"column":86,"offset":3565},"indent":[]}},{"type":"inlineCode","value":"datasets","position":{"start":{"line":137,"column":86,"offset":3565},"end":{"line":137,"column":96,"offset":3575},"indent":[]}},{"type":"text","value":". By default the ","position":{"start":{"line":137,"column":96,"offset":3575},"end":{"line":137,"column":113,"offset":3592},"indent":[]}},{"type":"inlineCode","value":"limit","position":{"start":{"line":137,"column":113,"offset":3592},"end":{"line":137,"column":120,"offset":3599},"indent":[]}},{"type":"text","value":" for all queries is ","position":{"start":{"line":137,"column":120,"offset":3599},"end":{"line":137,"column":140,"offset":3619},"indent":[]}},{"type":"inlineCode","value":"25","position":{"start":{"line":137,"column":140,"offset":3619},"end":{"line":137,"column":144,"offset":3623},"indent":[]}},{"type":"text","value":".  The default ","position":{"start":{"line":137,"column":144,"offset":3623},"end":{"line":137,"column":159,"offset":3638},"indent":[]}},{"type":"inlineCode","value":"offset","position":{"start":{"line":137,"column":159,"offset":3638},"end":{"line":137,"column":167,"offset":3646},"indent":[]}},{"type":"text","value":" is ","position":{"start":{"line":137,"column":167,"offset":3646},"end":{"line":137,"column":171,"offset":3650},"indent":[]}},{"type":"inlineCode","value":"0","position":{"start":{"line":137,"column":171,"offset":3650},"end":{"line":137,"column":174,"offset":3653},"indent":[]}},{"type":"text","value":".  To capture all results it is possible to add ","position":{"start":{"line":137,"column":174,"offset":3653},"end":{"line":137,"column":222,"offset":3701},"indent":[]}},{"type":"inlineCode","value":"limit=99999999","position":{"start":{"line":137,"column":222,"offset":3701},"end":{"line":137,"column":238,"offset":3717},"indent":[]}},{"type":"text","value":" or some similarly high number.  ","position":{"start":{"line":137,"column":238,"offset":3717},"end":{"line":137,"column":271,"offset":3750},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"However","position":{"start":{"line":137,"column":273,"offset":3752},"end":{"line":137,"column":280,"offset":3759},"indent":[]}}],"position":{"start":{"line":137,"column":271,"offset":3750},"end":{"line":137,"column":282,"offset":3761},"indent":[]}},{"type":"text","value":", this is hard on the Neotoma servers.  Best practice is to loop through results, using ","position":{"start":{"line":137,"column":282,"offset":3761},"end":{"line":137,"column":370,"offset":3849},"indent":[]}},{"type":"inlineCode","value":"limit","position":{"start":{"line":137,"column":370,"offset":3849},"end":{"line":137,"column":377,"offset":3856},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":137,"column":377,"offset":3856},"end":{"line":137,"column":382,"offset":3861},"indent":[]}},{"type":"inlineCode","value":"offset","position":{"start":{"line":137,"column":382,"offset":3861},"end":{"line":137,"column":390,"offset":3869},"indent":[]}},{"type":"text","value":", for example, in a ","position":{"start":{"line":137,"column":390,"offset":3869},"end":{"line":137,"column":410,"offset":3889},"indent":[]}},{"type":"inlineCode","value":"while","position":{"start":{"line":137,"column":410,"offset":3889},"end":{"line":137,"column":417,"offset":3896},"indent":[]}},{"type":"text","value":" loop.  In a result set of 100 records, the ","position":{"start":{"line":137,"column":417,"offset":3896},"end":{"line":137,"column":461,"offset":3940},"indent":[]}},{"type":"inlineCode","value":"limit","position":{"start":{"line":137,"column":461,"offset":3940},"end":{"line":137,"column":468,"offset":3947},"indent":[]}},{"type":"text","value":", when ","position":{"start":{"line":137,"column":468,"offset":3947},"end":{"line":137,"column":475,"offset":3954},"indent":[]}},{"type":"inlineCode","value":"offset","position":{"start":{"line":137,"column":475,"offset":3954},"end":{"line":137,"column":483,"offset":3962},"indent":[]}},{"type":"text","value":" is 0 (the default), ensures that only the first 25 records are returned.  Keeping the ","position":{"start":{"line":137,"column":483,"offset":3962},"end":{"line":137,"column":570,"offset":4049},"indent":[]}},{"type":"inlineCode","value":"limit","position":{"start":{"line":137,"column":570,"offset":4049},"end":{"line":137,"column":577,"offset":4056},"indent":[]}},{"type":"text","value":" at 25, and increasing the ","position":{"start":{"line":137,"column":577,"offset":4056},"end":{"line":137,"column":604,"offset":4083},"indent":[]}},{"type":"inlineCode","value":"offset","position":{"start":{"line":137,"column":604,"offset":4083},"end":{"line":137,"column":612,"offset":4091},"indent":[]}},{"type":"text","value":" to 25 would give us the next 25 records.","position":{"start":{"line":137,"column":612,"offset":4091},"end":{"line":137,"column":653,"offset":4132},"indent":[]}}],"position":{"start":{"line":137,"column":1,"offset":3480},"end":{"line":137,"column":653,"offset":4132},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We can use that in a ","position":{"start":{"line":139,"column":1,"offset":4134},"end":{"line":139,"column":22,"offset":4155},"indent":[]}},{"type":"inlineCode","value":"while","position":{"start":{"line":139,"column":22,"offset":4155},"end":{"line":139,"column":29,"offset":4162},"indent":[]}},{"type":"text","value":" loop in R in the following way:","position":{"start":{"line":139,"column":29,"offset":4162},"end":{"line":139,"column":61,"offset":4194},"indent":[]}}],"position":{"start":{"line":139,"column":1,"offset":4134},"end":{"line":139,"column":61,"offset":4194},"indent":[]}},{"type":"html","lang":"{r","meta":"searchOffset, eval=FALSE}","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">run = TRUE\noffset &lt;- 0\nwhile(run) {\n  sites &lt;- get_sites(offset=offset, limit = 500)\n  if(length(sites) == 0) {\n    run = FALSE\n  }\n  if(exists('allSites')) {\n    allSites &lt;- c(allSites, sites)\n  } else {\n    allSites &lt;- sites\n  }\n  offset &lt;- offset + 500\n}</code></pre></div>","position":{"start":{"line":141,"column":1,"offset":4196},"end":{"line":156,"column":4,"offset":4489},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"It can be computationally intensive to obtain the full set of records for ","position":{"start":{"line":158,"column":1,"offset":4491},"end":{"line":158,"column":75,"offset":4565},"indent":[]}},{"type":"inlineCode","value":"sites","position":{"start":{"line":158,"column":75,"offset":4565},"end":{"line":158,"column":82,"offset":4572},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":158,"column":82,"offset":4572},"end":{"line":158,"column":86,"offset":4576},"indent":[]}},{"type":"inlineCode","value":"datasets","position":{"start":{"line":158,"column":86,"offset":4576},"end":{"line":158,"column":96,"offset":4586},"indent":[]}},{"type":"text","value":". By default the ","position":{"start":{"line":158,"column":96,"offset":4586},"end":{"line":158,"column":113,"offset":4603},"indent":[]}},{"type":"inlineCode","value":"limit","position":{"start":{"line":158,"column":113,"offset":4603},"end":{"line":158,"column":120,"offset":4610},"indent":[]}},{"type":"text","value":" for all queries is ","position":{"start":{"line":158,"column":120,"offset":4610},"end":{"line":158,"column":140,"offset":4630},"indent":[]}},{"type":"inlineCode","value":"25","position":{"start":{"line":158,"column":140,"offset":4630},"end":{"line":158,"column":144,"offset":4634},"indent":[]}},{"type":"text","value":".  The default ","position":{"start":{"line":158,"column":144,"offset":4634},"end":{"line":158,"column":159,"offset":4649},"indent":[]}},{"type":"inlineCode","value":"offset","position":{"start":{"line":158,"column":159,"offset":4649},"end":{"line":158,"column":167,"offset":4657},"indent":[]}},{"type":"text","value":" is ","position":{"start":{"line":158,"column":167,"offset":4657},"end":{"line":158,"column":171,"offset":4661},"indent":[]}},{"type":"inlineCode","value":"0","position":{"start":{"line":158,"column":171,"offset":4661},"end":{"line":158,"column":174,"offset":4664},"indent":[]}},{"type":"text","value":".  To capture all results it is possible to add the ","position":{"start":{"line":158,"column":174,"offset":4664},"end":{"line":158,"column":226,"offset":4716},"indent":[]}},{"type":"inlineCode","value":"limit=99999999","position":{"start":{"line":158,"column":226,"offset":4716},"end":{"line":158,"column":242,"offset":4732},"indent":[]}},{"type":"text","value":" or some similarly high number.  ","position":{"start":{"line":158,"column":242,"offset":4732},"end":{"line":158,"column":275,"offset":4765},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"However","position":{"start":{"line":158,"column":277,"offset":4767},"end":{"line":158,"column":284,"offset":4774},"indent":[]}}],"position":{"start":{"line":158,"column":275,"offset":4765},"end":{"line":158,"column":286,"offset":4776},"indent":[]}},{"type":"text","value":", this is hard on the Neotoma servers.  Best practice is to loop through results, you can do that automatically using the ","position":{"start":{"line":158,"column":286,"offset":4776},"end":{"line":158,"column":408,"offset":4898},"indent":[]}},{"type":"inlineCode","value":"all_data=TRUE","position":{"start":{"line":158,"column":408,"offset":4898},"end":{"line":158,"column":423,"offset":4913},"indent":[]}},{"type":"text","value":" argument.","position":{"start":{"line":158,"column":423,"offset":4913},"end":{"line":158,"column":433,"offset":4923},"indent":[]}}],"position":{"start":{"line":158,"column":1,"offset":4491},"end":{"line":158,"column":433,"offset":4923},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We can use that ","position":{"start":{"line":160,"column":1,"offset":4925},"end":{"line":160,"column":17,"offset":4941},"indent":[]}},{"type":"inlineCode","value":"all_data=TRUE","position":{"start":{"line":160,"column":17,"offset":4941},"end":{"line":160,"column":32,"offset":4956},"indent":[]}},{"type":"text","value":" in R in the following way:","position":{"start":{"line":160,"column":32,"offset":4956},"end":{"line":160,"column":59,"offset":4983},"indent":[]}}],"position":{"start":{"line":160,"column":1,"offset":4925},"end":{"line":160,"column":59,"offset":4983},"indent":[]}},{"type":"html","lang":"{r","meta":"all_data, eval=FALSE}","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">allSites &lt;- get_sites(all_data = TRUE)\nallSites\n </code></pre></div>","position":{"start":{"line":162,"column":1,"offset":4985},"end":{"line":166,"column":4,"offset":5066},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Following this  can see that the total sites returned is equal to the total number of sites in Neotoma.","position":{"start":{"line":168,"column":1,"offset":5068},"end":{"line":168,"column":104,"offset":5171},"indent":[]}}],"position":{"start":{"line":168,"column":1,"offset":5068},"end":{"line":168,"column":104,"offset":5171},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can get the coordinates to create a GeoJson bounding box from ","position":{"start":{"line":170,"column":1,"offset":5173},"end":{"line":170,"column":67,"offset":5239},"indent":[]}},{"type":"link","title":null,"url":"https://geojson.io/#map=2/20.0/0.0","children":[{"type":"text","value":"here","position":{"start":{"line":170,"column":68,"offset":5240},"end":{"line":170,"column":72,"offset":5244},"indent":[]}}],"position":{"start":{"line":170,"column":67,"offset":5239},"end":{"line":170,"column":109,"offset":5281},"indent":[]}},{"type":"text","value":", or you can use pre-existing objects within R, for example, country-level data within the ","position":{"start":{"line":170,"column":109,"offset":5281},"end":{"line":170,"column":200,"offset":5372},"indent":[]}},{"type":"inlineCode","value":"spData","position":{"start":{"line":170,"column":200,"offset":5372},"end":{"line":170,"column":208,"offset":5380},"indent":[]}},{"type":"text","value":" package:","position":{"start":{"line":170,"column":208,"offset":5380},"end":{"line":170,"column":217,"offset":5389},"indent":[]}}],"position":{"start":{"line":170,"column":1,"offset":5173},"end":{"line":170,"column":217,"offset":5389},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Accessing datasets by bounding box:","position":{"start":{"line":172,"column":1,"offset":5391},"end":{"line":172,"column":36,"offset":5426},"indent":[]}}],"position":{"start":{"line":172,"column":1,"offset":5391},"end":{"line":172,"column":36,"offset":5426},"indent":[]}},{"type":"html","lang":"{r","meta":"boundingBox}","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">brazil &lt;- '{\"type\": \"Polygon\", \n            \"coordinates\": [[\n                [-73.125, -9.102],\n                [-56.953, -33.138],\n                [-36.563, -7.711],\n                [-68.203, 13.923],\n                [-73.125, -9.102]\n              ]]}'\n# We can make the geojson a spatial object if we want to use the\n# functionality of the `sf` package.\nbrazil_sf &lt;- geojsonsf::geojson_sf(brazil)\nbrazil_datasets &lt;- get_datasets(loc = brazil_sf)\nbrazil_datasets</code></pre></div>","position":{"start":{"line":174,"column":1,"offset":5428},"end":{"line":188,"column":4,"offset":5916},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Now we have an object called ","position":{"start":{"line":190,"column":1,"offset":5918},"end":{"line":190,"column":30,"offset":5947},"indent":[]}},{"type":"inlineCode","value":"brazil_datasets","position":{"start":{"line":190,"column":30,"offset":5947},"end":{"line":190,"column":47,"offset":5964},"indent":[]}},{"type":"text","value":" that contains ","position":{"start":{"line":190,"column":47,"offset":5964},"end":{"line":190,"column":62,"offset":5979},"indent":[]}},{"type":"inlineCode","value":"r length(brazil_datasets)","position":{"start":{"line":190,"column":62,"offset":5979},"end":{"line":190,"column":89,"offset":6006},"indent":[]}},{"type":"text","value":".  ","position":{"start":{"line":190,"column":89,"offset":6006},"end":{"line":190,"column":92,"offset":6009},"indent":[]}}],"position":{"start":{"line":190,"column":1,"offset":5918},"end":{"line":190,"column":92,"offset":6009},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can plot these findings!","position":{"start":{"line":192,"column":1,"offset":6011},"end":{"line":192,"column":29,"offset":6039},"indent":[]}}],"position":{"start":{"line":192,"column":1,"offset":6011},"end":{"line":192,"column":29,"offset":6039},"indent":[]}},{"type":"html","value":"</exercise>","position":{"start":{"line":194,"column":1,"offset":6041},"end":{"line":194,"column":12,"offset":6052},"indent":[]}},{"type":"html","value":"<exercise id=\"3\" title=\"get_downloads()\">","position":{"start":{"line":196,"column":1,"offset":6054},"end":{"line":196,"column":42,"offset":6095},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"complete record","position":{"start":{"line":198,"column":1,"offset":6097},"end":{"line":198,"column":16,"offset":6112},"indent":[]}}],"position":{"start":{"line":198,"column":1,"offset":6097},"end":{"line":198,"column":16,"offset":6112},"indent":[]}},{"type":"html","value":"</exercise>","position":{"start":{"line":200,"column":1,"offset":6114},"end":{"line":200,"column":12,"offset":6125},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":200,"column":12,"offset":6125}}}}