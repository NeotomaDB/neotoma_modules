{"expireTime":9007200907159355000,"key":"transformer-remark-markdown-ast-b5445d68955a3dc784257964787cbaa1-gatsby-remark-copy-linked-filesgatsby-remark-prismjsgatsby-remark-smartypantsgatsby-remark-imagesgatsby-remark-unwrap-images-","val":{"type":"root","children":[{"type":"html","value":"<exercise id=\"0\" title=\"Introduction\" type=\"slides\">","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":53,"offset":53},"indent":[]}},{"type":"html","value":"<slides source=\"chapter2_01_introduction\">","position":{"start":{"line":4,"column":1,"offset":55},"end":{"line":4,"column":43,"offset":97},"indent":[]}},{"type":"html","value":"</slides>","position":{"start":{"line":6,"column":1,"offset":99},"end":{"line":6,"column":10,"offset":108},"indent":[]}},{"type":"html","value":"<exercise id=\"1\" title=\"get_sites()\">","position":{"start":{"line":8,"column":1,"offset":110},"end":{"line":8,"column":38,"offset":147},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Sites","position":{"start":{"line":10,"column":6,"offset":154},"end":{"line":10,"column":11,"offset":159},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":149},"end":{"line":10,"column":11,"offset":159},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"get_sites()","position":{"start":{"line":12,"column":1,"offset":161},"end":{"line":12,"column":14,"offset":174},"indent":[]}},{"type":"text","value":" is the most basic core command to help the user get metadata from a site. ","position":{"start":{"line":12,"column":14,"offset":174},"end":{"line":12,"column":89,"offset":249},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":161},"end":{"line":12,"column":89,"offset":249},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Check out the most simple usage in action","position":{"start":{"line":14,"column":1,"offset":251},"end":{"line":14,"column":42,"offset":292},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":251},"end":{"line":14,"column":42,"offset":292},"indent":[]}},{"type":"image","title":null,"url":"https://github.com/NeotomaDB/neotoma_workshop/blob/main/static/module2/sites_id.gif?raw=true","alt":"img","position":{"start":{"line":16,"column":1,"offset":294},"end":{"line":16,"column":101,"offset":394},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Now, try it out yourself! Change the two __ for your favourite number and run the code!","position":{"start":{"line":18,"column":1,"offset":396},"end":{"line":18,"column":88,"offset":483},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":396},"end":{"line":18,"column":88,"offset":483},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The first time you run this code, it might take a couple of minutes to get it started.","position":{"start":{"line":20,"column":1,"offset":485},"end":{"line":20,"column":87,"offset":571},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":485},"end":{"line":20,"column":87,"offset":571},"indent":[]}},{"type":"html","value":"<codeblock id=\"02_01\">","position":{"start":{"line":22,"column":1,"offset":573},"end":{"line":22,"column":23,"offset":595},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Change the __ for a number","position":{"start":{"line":24,"column":1,"offset":597},"end":{"line":24,"column":27,"offset":623},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":597},"end":{"line":24,"column":27,"offset":623},"indent":[]}},{"type":"html","value":"</codeblock>","position":{"start":{"line":26,"column":1,"offset":625},"end":{"line":26,"column":13,"offset":637},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can also pass a vector with numbers and execute ","position":{"start":{"line":28,"column":1,"offset":639},"end":{"line":28,"column":53,"offset":691},"indent":[]}},{"type":"inlineCode","value":"get_sites()","position":{"start":{"line":28,"column":53,"offset":691},"end":{"line":28,"column":66,"offset":704},"indent":[]}},{"type":"text","value":" to obtain multiple records at once:","position":{"start":{"line":28,"column":66,"offset":704},"end":{"line":28,"column":102,"offset":740},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":639},"end":{"line":28,"column":102,"offset":740},"indent":[]}},{"type":"image","title":null,"url":"https://github.com/NeotomaDB/neotoma_workshop/blob/main/static/module2/sites_list.gif?raw=true","alt":"img","position":{"start":{"line":30,"column":1,"offset":742},"end":{"line":30,"column":103,"offset":844},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Try it yourself! ","position":{"start":{"line":32,"column":1,"offset":846},"end":{"line":32,"column":18,"offset":863},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":846},"end":{"line":32,"column":18,"offset":863},"indent":[]}},{"type":"html","value":"<codeblock id=\"02_02\">","position":{"start":{"line":34,"column":1,"offset":865},"end":{"line":34,"column":23,"offset":887},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Change the __ for a vector of number","position":{"start":{"line":36,"column":1,"offset":889},"end":{"line":36,"column":37,"offset":925},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":889},"end":{"line":36,"column":37,"offset":925},"indent":[]}},{"type":"html","value":"</codeblock>","position":{"start":{"line":38,"column":1,"offset":927},"end":{"line":38,"column":13,"offset":939},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Searching by Name","position":{"start":{"line":40,"column":5,"offset":945},"end":{"line":40,"column":22,"offset":962},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":941},"end":{"line":40,"column":22,"offset":962},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can also search for a record by using its name; for this, you need to use the argument ","position":{"start":{"line":42,"column":1,"offset":964},"end":{"line":42,"column":92,"offset":1055},"indent":[]}},{"type":"inlineCode","value":"sitename=","position":{"start":{"line":42,"column":92,"offset":1055},"end":{"line":42,"column":103,"offset":1066},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":42,"column":103,"offset":1066},"end":{"line":42,"column":104,"offset":1067},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":964},"end":{"line":42,"column":104,"offset":1067},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can pass an exact name or you can use wildcards ","position":{"start":{"line":44,"column":1,"offset":1069},"end":{"line":44,"column":53,"offset":1121},"indent":[]}},{"type":"inlineCode","value":"%","position":{"start":{"line":44,"column":53,"offset":1121},"end":{"line":44,"column":56,"offset":1124},"indent":[]}},{"type":"text","value":" for an approximate name.","position":{"start":{"line":44,"column":56,"offset":1124},"end":{"line":44,"column":81,"offset":1149},"indent":[]}}],"position":{"start":{"line":44,"column":1,"offset":1069},"end":{"line":44,"column":81,"offset":1149},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Remember that a name is a string and so, it must be passed between single ","position":{"start":{"line":46,"column":1,"offset":1151},"end":{"line":46,"column":75,"offset":1225},"indent":[]}},{"type":"inlineCode","value":"'","position":{"start":{"line":46,"column":75,"offset":1225},"end":{"line":46,"column":78,"offset":1228},"indent":[]}},{"type":"text","value":" or double quotations ","position":{"start":{"line":46,"column":78,"offset":1228},"end":{"line":46,"column":100,"offset":1250},"indent":[]}},{"type":"inlineCode","value":"\"","position":{"start":{"line":46,"column":100,"offset":1250},"end":{"line":46,"column":103,"offset":1253},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":46,"column":103,"offset":1253},"end":{"line":46,"column":104,"offset":1254},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":1151},"end":{"line":46,"column":104,"offset":1254},"indent":[]}},{"type":"image","title":null,"url":"https://github.com/NeotomaDB/neotoma_workshop/blob/main/static/module2/sites_name.gif?raw=true","alt":"img","position":{"start":{"line":48,"column":1,"offset":1256},"end":{"line":48,"column":103,"offset":1358},"indent":[]}},{"type":"html","value":"<codeblock id=\"02_03\">","position":{"start":{"line":50,"column":1,"offset":1360},"end":{"line":50,"column":23,"offset":1382},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Change the name. Play around with wildcards and see what happens! ","position":{"start":{"line":52,"column":1,"offset":1384},"end":{"line":52,"column":67,"offset":1450},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":1384},"end":{"line":52,"column":67,"offset":1450},"indent":[]}},{"type":"html","value":"</codeblock>","position":{"start":{"line":54,"column":1,"offset":1452},"end":{"line":54,"column":13,"offset":1464},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"There are other arguments you can use in ","position":{"start":{"line":56,"column":1,"offset":1466},"end":{"line":56,"column":42,"offset":1507},"indent":[]}},{"type":"inlineCode","value":"get_sites()","position":{"start":{"line":56,"column":42,"offset":1507},"end":{"line":56,"column":55,"offset":1520},"indent":[]}},{"type":"text","value":" such as ","position":{"start":{"line":56,"column":55,"offset":1520},"end":{"line":56,"column":64,"offset":1529},"indent":[]}},{"type":"inlineCode","value":"altmin","position":{"start":{"line":56,"column":64,"offset":1529},"end":{"line":56,"column":72,"offset":1537},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":56,"column":72,"offset":1537},"end":{"line":56,"column":76,"offset":1541},"indent":[]}},{"type":"inlineCode","value":"altmax","position":{"start":{"line":56,"column":76,"offset":1541},"end":{"line":56,"column":84,"offset":1549},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":56,"column":84,"offset":1549},"end":{"line":56,"column":85,"offset":1550},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":1466},"end":{"line":56,"column":85,"offset":1550},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Remember you can combine arguments as well!!","position":{"start":{"line":58,"column":1,"offset":1552},"end":{"line":58,"column":45,"offset":1596},"indent":[]}}],"position":{"start":{"line":58,"column":1,"offset":1552},"end":{"line":58,"column":45,"offset":1596},"indent":[]}},{"type":"html","value":"<codeblock id=\"02_04\">","position":{"start":{"line":60,"column":1,"offset":1598},"end":{"line":60,"column":23,"offset":1620},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Play with different altitudes and sitenames.","position":{"start":{"line":62,"column":1,"offset":1622},"end":{"line":62,"column":45,"offset":1666},"indent":[]}}],"position":{"start":{"line":62,"column":1,"offset":1622},"end":{"line":62,"column":45,"offset":1666},"indent":[]}},{"type":"html","value":"</codeblock>","position":{"start":{"line":64,"column":1,"offset":1668},"end":{"line":64,"column":13,"offset":1680},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Accessing a site’s metadata","position":{"start":{"line":66,"column":6,"offset":1687},"end":{"line":66,"column":33,"offset":1714},"indent":[]}}],"position":{"start":{"line":66,"column":1,"offset":1682},"end":{"line":66,"column":33,"offset":1714},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"sites","position":{"start":{"line":68,"column":1,"offset":1716},"end":{"line":68,"column":8,"offset":1723},"indent":[]}},{"type":"text","value":" are composed of several smaller objects of class ","position":{"start":{"line":68,"column":8,"offset":1723},"end":{"line":68,"column":58,"offset":1773},"indent":[]}},{"type":"inlineCode","value":"site","position":{"start":{"line":68,"column":58,"offset":1773},"end":{"line":68,"column":64,"offset":1779},"indent":[]}},{"type":"text","value":".\nWe can call any individual site using ","position":{"start":{"line":68,"column":64,"offset":1779},"end":{"line":69,"column":39,"offset":1819},"indent":[1]}},{"type":"inlineCode","value":"[[ ]]","position":{"start":{"line":69,"column":39,"offset":1819},"end":{"line":69,"column":46,"offset":1826},"indent":[]}}],"position":{"start":{"line":68,"column":1,"offset":1716},"end":{"line":69,"column":46,"offset":1826},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"A single ","position":{"start":{"line":71,"column":1,"offset":1828},"end":{"line":71,"column":10,"offset":1837},"indent":[]}},{"type":"inlineCode","value":"site","position":{"start":{"line":71,"column":10,"offset":1837},"end":{"line":71,"column":16,"offset":1843},"indent":[]}},{"type":"text","value":" object has a lot of data.  You can access a site’s data using ","position":{"start":{"line":71,"column":16,"offset":1843},"end":{"line":71,"column":79,"offset":1906},"indent":[]}},{"type":"inlineCode","value":"$","position":{"start":{"line":71,"column":79,"offset":1906},"end":{"line":71,"column":82,"offset":1909},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":71,"column":82,"offset":1909},"end":{"line":71,"column":83,"offset":1910},"indent":[]}}],"position":{"start":{"line":71,"column":1,"offset":1828},"end":{"line":71,"column":83,"offset":1910},"indent":[]}},{"type":"html","lang":null,"meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">site[[1]]$siteid</code></pre></div>","position":{"start":{"line":73,"column":1,"offset":1912},"end":{"line":75,"column":4,"offset":1936},"indent":[1,1]}},{"type":"image","title":null,"url":"https://github.com/NeotomaDB/neotoma_workshop/blob/main/static/module2/siteatt.gif?raw=true","alt":"gif","position":{"start":{"line":77,"column":1,"offset":1938},"end":{"line":77,"column":100,"offset":2037},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Some of the fields you can access are:","position":{"start":{"line":79,"column":1,"offset":2039},"end":{"line":79,"column":39,"offset":2077},"indent":[]}}],"position":{"start":{"line":79,"column":1,"offset":2039},"end":{"line":79,"column":39,"offset":2077},"indent":[]}},{"type":"html","lang":"markdown","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre class=\"language-markdown\"><code class=\"language-markdown\">siteid\nsitename\nlat\nlong\narea\nnotes\ndescription</code></pre></div>","position":{"start":{"line":80,"column":1,"offset":2078},"end":{"line":88,"column":4,"offset":2141},"indent":[1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Try it out!","position":{"start":{"line":90,"column":1,"offset":2143},"end":{"line":90,"column":12,"offset":2154},"indent":[]}}],"position":{"start":{"line":90,"column":1,"offset":2143},"end":{"line":90,"column":12,"offset":2154},"indent":[]}},{"type":"html","value":"<codeblock id=\"02_05\">","position":{"start":{"line":92,"column":1,"offset":2156},"end":{"line":92,"column":23,"offset":2178},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Play with different altitudes and sitenames.","position":{"start":{"line":94,"column":1,"offset":2180},"end":{"line":94,"column":45,"offset":2224},"indent":[]}}],"position":{"start":{"line":94,"column":1,"offset":2180},"end":{"line":94,"column":45,"offset":2224},"indent":[]}},{"type":"html","value":"</codeblock>","position":{"start":{"line":96,"column":1,"offset":2226},"end":{"line":96,"column":13,"offset":2238},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Exercise","position":{"start":{"line":98,"column":6,"offset":2245},"end":{"line":98,"column":14,"offset":2253},"indent":[]}}],"position":{"start":{"line":98,"column":1,"offset":2240},"end":{"line":98,"column":14,"offset":2253},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Using dplyr and sites attributes, retrieve all ids from a ","position":{"start":{"line":100,"column":1,"offset":2255},"end":{"line":100,"column":59,"offset":2313},"indent":[]}},{"type":"inlineCode","value":"sites","position":{"start":{"line":100,"column":59,"offset":2313},"end":{"line":100,"column":66,"offset":2320},"indent":[]}},{"type":"text","value":" object","position":{"start":{"line":100,"column":66,"offset":2320},"end":{"line":100,"column":73,"offset":2327},"indent":[]}}],"position":{"start":{"line":100,"column":1,"offset":2255},"end":{"line":100,"column":73,"offset":2327},"indent":[]}},{"type":"html","value":"<codeblock id=\"02_06\">","position":{"start":{"line":102,"column":1,"offset":2329},"end":{"line":102,"column":23,"offset":2351},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Convert a sites object to a dataframe.\nExtract the column of ids","position":{"start":{"line":104,"column":1,"offset":2353},"end":{"line":105,"column":26,"offset":2417},"indent":[1]}}],"position":{"start":{"line":104,"column":1,"offset":2353},"end":{"line":105,"column":26,"offset":2417},"indent":[1]}},{"type":"html","value":"</codeblock>","position":{"start":{"line":107,"column":1,"offset":2419},"end":{"line":107,"column":13,"offset":2431},"indent":[]}},{"type":"html","value":"</exercise>","position":{"start":{"line":109,"column":1,"offset":2433},"end":{"line":109,"column":12,"offset":2444},"indent":[]}},{"type":"html","value":"<exercise id=\"2\" title=\"get_datasets()\">","position":{"start":{"line":111,"column":1,"offset":2446},"end":{"line":111,"column":41,"offset":2486},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Datasets","position":{"start":{"line":113,"column":6,"offset":2493},"end":{"line":113,"column":14,"offset":2501},"indent":[]}}],"position":{"start":{"line":113,"column":1,"offset":2488},"end":{"line":113,"column":14,"offset":2501},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you need to get to a deeper level of the sites object, you may want to look at the ","position":{"start":{"line":115,"column":1,"offset":2503},"end":{"line":115,"column":87,"offset":2589},"indent":[]}},{"type":"inlineCode","value":"get_datasets()","position":{"start":{"line":115,"column":87,"offset":2589},"end":{"line":115,"column":103,"offset":2605},"indent":[]}},{"type":"text","value":" function.  You can use ","position":{"start":{"line":115,"column":103,"offset":2605},"end":{"line":115,"column":127,"offset":2629},"indent":[]}},{"type":"inlineCode","value":"get_datasets()","position":{"start":{"line":115,"column":127,"offset":2629},"end":{"line":115,"column":143,"offset":2645},"indent":[]}},{"type":"text","value":" using search parameters, or you can use it on an existing ","position":{"start":{"line":115,"column":143,"offset":2645},"end":{"line":115,"column":202,"offset":2704},"indent":[]}},{"type":"inlineCode","value":"sites","position":{"start":{"line":115,"column":202,"offset":2704},"end":{"line":115,"column":209,"offset":2711},"indent":[]}},{"type":"text","value":" object.","position":{"start":{"line":115,"column":209,"offset":2711},"end":{"line":115,"column":217,"offset":2719},"indent":[]}}],"position":{"start":{"line":115,"column":1,"offset":2503},"end":{"line":115,"column":217,"offset":2719},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"get_datasets()","position":{"start":{"line":117,"column":1,"offset":2721},"end":{"line":117,"column":17,"offset":2737},"indent":[]}},{"type":"text","value":" adds additional metadata to the ","position":{"start":{"line":117,"column":17,"offset":2737},"end":{"line":117,"column":50,"offset":2770},"indent":[]}},{"type":"inlineCode","value":"site","position":{"start":{"line":117,"column":50,"offset":2770},"end":{"line":117,"column":56,"offset":2776},"indent":[]}},{"type":"text","value":" objects, letting us know which ","position":{"start":{"line":117,"column":56,"offset":2776},"end":{"line":117,"column":88,"offset":2808},"indent":[]}},{"type":"inlineCode","value":"datasettypes","position":{"start":{"line":117,"column":88,"offset":2808},"end":{"line":117,"column":102,"offset":2822},"indent":[]}},{"type":"text","value":" are associated with a site, and the dataset sample locations at the site.","position":{"start":{"line":117,"column":102,"offset":2822},"end":{"line":117,"column":176,"offset":2896},"indent":[]}}],"position":{"start":{"line":117,"column":1,"offset":2721},"end":{"line":117,"column":176,"offset":2896},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Getting the datasets by id is the easiest call, you can also pass a vector of IDs or if you already have a ","position":{"start":{"line":119,"column":1,"offset":2898},"end":{"line":119,"column":108,"offset":3005},"indent":[]}},{"type":"inlineCode","value":"sites","position":{"start":{"line":119,"column":108,"offset":3005},"end":{"line":119,"column":115,"offset":3012},"indent":[]}},{"type":"text","value":" object, you can pass a sites object. ","position":{"start":{"line":119,"column":115,"offset":3012},"end":{"line":119,"column":153,"offset":3050},"indent":[]}}],"position":{"start":{"line":119,"column":1,"offset":2898},"end":{"line":119,"column":153,"offset":3050},"indent":[]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Warning","position":{"start":{"line":121,"column":3,"offset":3054},"end":{"line":121,"column":10,"offset":3061},"indent":[]}}],"position":{"start":{"line":121,"column":1,"offset":3052},"end":{"line":121,"column":12,"offset":3063},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":121,"column":12,"offset":3063},"end":{"line":121,"column":13,"offset":3064},"indent":[]}},{"type":"inlineCode","value":"get_datasets()","position":{"start":{"line":121,"column":13,"offset":3064},"end":{"line":121,"column":29,"offset":3080},"indent":[]}},{"type":"text","value":" does not take ","position":{"start":{"line":121,"column":29,"offset":3080},"end":{"line":121,"column":44,"offset":3095},"indent":[]}},{"type":"inlineCode","value":"sitename","position":{"start":{"line":121,"column":44,"offset":3095},"end":{"line":121,"column":54,"offset":3105},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":121,"column":54,"offset":3105},"end":{"line":121,"column":58,"offset":3109},"indent":[]}},{"type":"inlineCode","value":"siteid","position":{"start":{"line":121,"column":58,"offset":3109},"end":{"line":121,"column":66,"offset":3117},"indent":[]}},{"type":"text","value":" as inputs, if you wish to use those you can chain ","position":{"start":{"line":121,"column":66,"offset":3117},"end":{"line":121,"column":117,"offset":3168},"indent":[]}},{"type":"inlineCode","value":"get_sites()","position":{"start":{"line":121,"column":117,"offset":3168},"end":{"line":121,"column":130,"offset":3181},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":121,"column":130,"offset":3181},"end":{"line":121,"column":135,"offset":3186},"indent":[]}},{"type":"inlineCode","value":"get_datasets()","position":{"start":{"line":121,"column":135,"offset":3186},"end":{"line":121,"column":151,"offset":3202},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":121,"column":151,"offset":3202},"end":{"line":121,"column":152,"offset":3203},"indent":[]}}],"position":{"start":{"line":121,"column":1,"offset":3052},"end":{"line":121,"column":152,"offset":3203},"indent":[]}},{"type":"image","title":null,"url":"https://github.com/NeotomaDB/neotoma_workshop/blob/main/static/module2/get_datasets.gif?raw=true","alt":"gif","position":{"start":{"line":123,"column":1,"offset":3205},"end":{"line":123,"column":105,"offset":3309},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Although we cannot ","position":{"start":{"line":125,"column":1,"offset":3311},"end":{"line":125,"column":20,"offset":3330},"indent":[]}},{"type":"inlineCode","value":"get_datasets()","position":{"start":{"line":125,"column":20,"offset":3330},"end":{"line":125,"column":36,"offset":3346},"indent":[]}},{"type":"text","value":"pass the ","position":{"start":{"line":125,"column":36,"offset":3346},"end":{"line":125,"column":45,"offset":3355},"indent":[]}},{"type":"inlineCode","value":"sitename","position":{"start":{"line":125,"column":45,"offset":3355},"end":{"line":125,"column":55,"offset":3365},"indent":[]}},{"type":"text","value":" argument, we can pass a ","position":{"start":{"line":125,"column":55,"offset":3365},"end":{"line":125,"column":80,"offset":3390},"indent":[]}},{"type":"inlineCode","value":"sites","position":{"start":{"line":125,"column":80,"offset":3390},"end":{"line":125,"column":87,"offset":3397},"indent":[]}},{"type":"text","value":" object. That way, we can chain filtered options:","position":{"start":{"line":125,"column":87,"offset":3397},"end":{"line":125,"column":136,"offset":3446},"indent":[]}}],"position":{"start":{"line":125,"column":1,"offset":3311},"end":{"line":125,"column":136,"offset":3446},"indent":[]}},{"type":"image","title":null,"url":"https://github.com/NeotomaDB/neotoma_workshop/blob/main/static/module2/get_datasets2.gif?raw=true","alt":"gif","position":{"start":{"line":127,"column":1,"offset":3448},"end":{"line":127,"column":106,"offset":3553},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Try it out!!","position":{"start":{"line":129,"column":1,"offset":3555},"end":{"line":129,"column":13,"offset":3567},"indent":[]}}],"position":{"start":{"line":129,"column":1,"offset":3555},"end":{"line":129,"column":13,"offset":3567},"indent":[]}},{"type":"html","value":"<codeblock id=\"02_07\">","position":{"start":{"line":131,"column":1,"offset":3569},"end":{"line":131,"column":23,"offset":3591},"indent":[]}},{"type":"html","value":"</codeblock>","position":{"start":{"line":133,"column":1,"offset":3593},"end":{"line":133,"column":13,"offset":3605},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can also retrieve datasets by type directly from the API. You only need to use the argument ","position":{"start":{"line":135,"column":1,"offset":3607},"end":{"line":135,"column":97,"offset":3703},"indent":[]}},{"type":"inlineCode","value":"datasettype","position":{"start":{"line":135,"column":97,"offset":3703},"end":{"line":135,"column":110,"offset":3716},"indent":[]}}],"position":{"start":{"line":135,"column":1,"offset":3607},"end":{"line":135,"column":110,"offset":3716},"indent":[]}},{"type":"image","title":null,"url":"https://github.com/NeotomaDB/neotoma_workshop/blob/main/static/module2/pollen.gif?raw=true","alt":"gif","position":{"start":{"line":137,"column":1,"offset":3718},"end":{"line":137,"column":99,"offset":3816},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Even better, you can also use the ","position":{"start":{"line":139,"column":1,"offset":3818},"end":{"line":139,"column":35,"offset":3852},"indent":[]}},{"type":"inlineCode","value":"loc","position":{"start":{"line":139,"column":35,"offset":3852},"end":{"line":139,"column":40,"offset":3857},"indent":[]}},{"type":"text","value":" argument, which takes a bounding box or a geoJson string.","position":{"start":{"line":139,"column":40,"offset":3857},"end":{"line":139,"column":98,"offset":3915},"indent":[]}}],"position":{"start":{"line":139,"column":1,"offset":3818},"end":{"line":139,"column":98,"offset":3915},"indent":[]}},{"type":"image","title":null,"url":"https://github.com/NeotomaDB/neotoma_workshop/blob/main/static/module2/loc.gif?raw=true","alt":"gif","position":{"start":{"line":141,"column":1,"offset":3917},"end":{"line":141,"column":96,"offset":4012},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can also mix arguments, get datasets from a specific type and location. Try it yourself here!","position":{"start":{"line":143,"column":1,"offset":4014},"end":{"line":143,"column":98,"offset":4111},"indent":[]}}],"position":{"start":{"line":143,"column":1,"offset":4014},"end":{"line":143,"column":98,"offset":4111},"indent":[]}},{"type":"html","value":"<codeblock id=\"02_08\">","position":{"start":{"line":145,"column":1,"offset":4113},"end":{"line":145,"column":23,"offset":4135},"indent":[]}},{"type":"html","value":"</codeblock>","position":{"start":{"line":147,"column":1,"offset":4137},"end":{"line":147,"column":13,"offset":4149},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"It can be computationally intensive to obtain the full set of records for ","position":{"start":{"line":149,"column":1,"offset":4151},"end":{"line":149,"column":75,"offset":4225},"indent":[]}},{"type":"inlineCode","value":"sites","position":{"start":{"line":149,"column":75,"offset":4225},"end":{"line":149,"column":82,"offset":4232},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":149,"column":82,"offset":4232},"end":{"line":149,"column":86,"offset":4236},"indent":[]}},{"type":"inlineCode","value":"datasets","position":{"start":{"line":149,"column":86,"offset":4236},"end":{"line":149,"column":96,"offset":4246},"indent":[]}},{"type":"text","value":". By default the ","position":{"start":{"line":149,"column":96,"offset":4246},"end":{"line":149,"column":113,"offset":4263},"indent":[]}},{"type":"inlineCode","value":"limit","position":{"start":{"line":149,"column":113,"offset":4263},"end":{"line":149,"column":120,"offset":4270},"indent":[]}},{"type":"text","value":" for all queries is ","position":{"start":{"line":149,"column":120,"offset":4270},"end":{"line":149,"column":140,"offset":4290},"indent":[]}},{"type":"inlineCode","value":"25","position":{"start":{"line":149,"column":140,"offset":4290},"end":{"line":149,"column":144,"offset":4294},"indent":[]}},{"type":"text","value":".  The default ","position":{"start":{"line":149,"column":144,"offset":4294},"end":{"line":149,"column":159,"offset":4309},"indent":[]}},{"type":"inlineCode","value":"offset","position":{"start":{"line":149,"column":159,"offset":4309},"end":{"line":149,"column":167,"offset":4317},"indent":[]}},{"type":"text","value":" is ","position":{"start":{"line":149,"column":167,"offset":4317},"end":{"line":149,"column":171,"offset":4321},"indent":[]}},{"type":"inlineCode","value":"0","position":{"start":{"line":149,"column":171,"offset":4321},"end":{"line":149,"column":174,"offset":4324},"indent":[]}},{"type":"text","value":".  To capture all results it is possible to add ","position":{"start":{"line":149,"column":174,"offset":4324},"end":{"line":149,"column":222,"offset":4372},"indent":[]}},{"type":"inlineCode","value":"limit=99999999","position":{"start":{"line":149,"column":222,"offset":4372},"end":{"line":149,"column":238,"offset":4388},"indent":[]}},{"type":"text","value":" or some similarly high number.  ","position":{"start":{"line":149,"column":238,"offset":4388},"end":{"line":149,"column":271,"offset":4421},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"However","position":{"start":{"line":149,"column":273,"offset":4423},"end":{"line":149,"column":280,"offset":4430},"indent":[]}}],"position":{"start":{"line":149,"column":271,"offset":4421},"end":{"line":149,"column":282,"offset":4432},"indent":[]}},{"type":"text","value":", this is hard on the Neotoma servers.  Best practice is to loop through results, using ","position":{"start":{"line":149,"column":282,"offset":4432},"end":{"line":149,"column":370,"offset":4520},"indent":[]}},{"type":"inlineCode","value":"limit","position":{"start":{"line":149,"column":370,"offset":4520},"end":{"line":149,"column":377,"offset":4527},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":149,"column":377,"offset":4527},"end":{"line":149,"column":382,"offset":4532},"indent":[]}},{"type":"inlineCode","value":"offset","position":{"start":{"line":149,"column":382,"offset":4532},"end":{"line":149,"column":390,"offset":4540},"indent":[]}},{"type":"text","value":", for example, in a ","position":{"start":{"line":149,"column":390,"offset":4540},"end":{"line":149,"column":410,"offset":4560},"indent":[]}},{"type":"inlineCode","value":"while","position":{"start":{"line":149,"column":410,"offset":4560},"end":{"line":149,"column":417,"offset":4567},"indent":[]}},{"type":"text","value":" loop.  In a result set of 100 records, the ","position":{"start":{"line":149,"column":417,"offset":4567},"end":{"line":149,"column":461,"offset":4611},"indent":[]}},{"type":"inlineCode","value":"limit","position":{"start":{"line":149,"column":461,"offset":4611},"end":{"line":149,"column":468,"offset":4618},"indent":[]}},{"type":"text","value":", when ","position":{"start":{"line":149,"column":468,"offset":4618},"end":{"line":149,"column":475,"offset":4625},"indent":[]}},{"type":"inlineCode","value":"offset","position":{"start":{"line":149,"column":475,"offset":4625},"end":{"line":149,"column":483,"offset":4633},"indent":[]}},{"type":"text","value":" is 0 (the default), ensures that only the first 25 records are returned.  Keeping the ","position":{"start":{"line":149,"column":483,"offset":4633},"end":{"line":149,"column":570,"offset":4720},"indent":[]}},{"type":"inlineCode","value":"limit","position":{"start":{"line":149,"column":570,"offset":4720},"end":{"line":149,"column":577,"offset":4727},"indent":[]}},{"type":"text","value":" at 25, and increasing the ","position":{"start":{"line":149,"column":577,"offset":4727},"end":{"line":149,"column":604,"offset":4754},"indent":[]}},{"type":"inlineCode","value":"offset","position":{"start":{"line":149,"column":604,"offset":4754},"end":{"line":149,"column":612,"offset":4762},"indent":[]}},{"type":"text","value":" to 25 would give us the next 25 records.","position":{"start":{"line":149,"column":612,"offset":4762},"end":{"line":149,"column":653,"offset":4803},"indent":[]}}],"position":{"start":{"line":149,"column":1,"offset":4151},"end":{"line":149,"column":653,"offset":4803},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We can use that in a ","position":{"start":{"line":151,"column":1,"offset":4805},"end":{"line":151,"column":22,"offset":4826},"indent":[]}},{"type":"inlineCode","value":"while","position":{"start":{"line":151,"column":22,"offset":4826},"end":{"line":151,"column":29,"offset":4833},"indent":[]}},{"type":"text","value":" loop in R in the following way:","position":{"start":{"line":151,"column":29,"offset":4833},"end":{"line":151,"column":61,"offset":4865},"indent":[]}}],"position":{"start":{"line":151,"column":1,"offset":4805},"end":{"line":151,"column":61,"offset":4865},"indent":[]}},{"type":"html","lang":"{r","meta":"searchOffset, eval=FALSE}","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">run = TRUE\noffset &lt;- 0\nwhile(run) {\n  sites &lt;- get_sites(offset=offset, limit = 500)\n  if(length(sites) == 0) {\n    run = FALSE\n  }\n  if(exists('allSites')) {\n    allSites &lt;- c(allSites, sites)\n  } else {\n    allSites &lt;- sites\n  }\n  offset &lt;- offset + 500\n}</code></pre></div>","position":{"start":{"line":153,"column":1,"offset":4867},"end":{"line":168,"column":4,"offset":5160},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"It can be computationally intensive to obtain the full set of records for ","position":{"start":{"line":170,"column":1,"offset":5162},"end":{"line":170,"column":75,"offset":5236},"indent":[]}},{"type":"inlineCode","value":"sites","position":{"start":{"line":170,"column":75,"offset":5236},"end":{"line":170,"column":82,"offset":5243},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":170,"column":82,"offset":5243},"end":{"line":170,"column":86,"offset":5247},"indent":[]}},{"type":"inlineCode","value":"datasets","position":{"start":{"line":170,"column":86,"offset":5247},"end":{"line":170,"column":96,"offset":5257},"indent":[]}},{"type":"text","value":". By default the ","position":{"start":{"line":170,"column":96,"offset":5257},"end":{"line":170,"column":113,"offset":5274},"indent":[]}},{"type":"inlineCode","value":"limit","position":{"start":{"line":170,"column":113,"offset":5274},"end":{"line":170,"column":120,"offset":5281},"indent":[]}},{"type":"text","value":" for all queries is ","position":{"start":{"line":170,"column":120,"offset":5281},"end":{"line":170,"column":140,"offset":5301},"indent":[]}},{"type":"inlineCode","value":"25","position":{"start":{"line":170,"column":140,"offset":5301},"end":{"line":170,"column":144,"offset":5305},"indent":[]}},{"type":"text","value":".  The default ","position":{"start":{"line":170,"column":144,"offset":5305},"end":{"line":170,"column":159,"offset":5320},"indent":[]}},{"type":"inlineCode","value":"offset","position":{"start":{"line":170,"column":159,"offset":5320},"end":{"line":170,"column":167,"offset":5328},"indent":[]}},{"type":"text","value":" is ","position":{"start":{"line":170,"column":167,"offset":5328},"end":{"line":170,"column":171,"offset":5332},"indent":[]}},{"type":"inlineCode","value":"0","position":{"start":{"line":170,"column":171,"offset":5332},"end":{"line":170,"column":174,"offset":5335},"indent":[]}},{"type":"text","value":".  To capture all results it is possible to add the ","position":{"start":{"line":170,"column":174,"offset":5335},"end":{"line":170,"column":226,"offset":5387},"indent":[]}},{"type":"inlineCode","value":"limit=99999999","position":{"start":{"line":170,"column":226,"offset":5387},"end":{"line":170,"column":242,"offset":5403},"indent":[]}},{"type":"text","value":" or some similarly high number.  ","position":{"start":{"line":170,"column":242,"offset":5403},"end":{"line":170,"column":275,"offset":5436},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"However","position":{"start":{"line":170,"column":277,"offset":5438},"end":{"line":170,"column":284,"offset":5445},"indent":[]}}],"position":{"start":{"line":170,"column":275,"offset":5436},"end":{"line":170,"column":286,"offset":5447},"indent":[]}},{"type":"text","value":", this is hard on the Neotoma servers.  Best practice is to loop through results, you can do that automatically using the ","position":{"start":{"line":170,"column":286,"offset":5447},"end":{"line":170,"column":408,"offset":5569},"indent":[]}},{"type":"inlineCode","value":"all_data=TRUE","position":{"start":{"line":170,"column":408,"offset":5569},"end":{"line":170,"column":423,"offset":5584},"indent":[]}},{"type":"text","value":" argument.","position":{"start":{"line":170,"column":423,"offset":5584},"end":{"line":170,"column":433,"offset":5594},"indent":[]}}],"position":{"start":{"line":170,"column":1,"offset":5162},"end":{"line":170,"column":433,"offset":5594},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We can use that ","position":{"start":{"line":172,"column":1,"offset":5596},"end":{"line":172,"column":17,"offset":5612},"indent":[]}},{"type":"inlineCode","value":"all_data=TRUE","position":{"start":{"line":172,"column":17,"offset":5612},"end":{"line":172,"column":32,"offset":5627},"indent":[]}},{"type":"text","value":" in R in the following way:","position":{"start":{"line":172,"column":32,"offset":5627},"end":{"line":172,"column":59,"offset":5654},"indent":[]}}],"position":{"start":{"line":172,"column":1,"offset":5596},"end":{"line":172,"column":59,"offset":5654},"indent":[]}},{"type":"html","lang":"{r","meta":"all_data, eval=FALSE}","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">allSites &lt;- get_sites(all_data = TRUE)\nallSites\n </code></pre></div>","position":{"start":{"line":174,"column":1,"offset":5656},"end":{"line":178,"column":4,"offset":5737},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Following this  can see that the total sites returned is equal to the total number of sites in Neotoma.","position":{"start":{"line":180,"column":1,"offset":5739},"end":{"line":180,"column":104,"offset":5842},"indent":[]}}],"position":{"start":{"line":180,"column":1,"offset":5739},"end":{"line":180,"column":104,"offset":5842},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can get the coordinates to create a GeoJson bounding box from ","position":{"start":{"line":182,"column":1,"offset":5844},"end":{"line":182,"column":67,"offset":5910},"indent":[]}},{"type":"link","title":null,"url":"https://geojson.io/#map=2/20.0/0.0","children":[{"type":"text","value":"here","position":{"start":{"line":182,"column":68,"offset":5911},"end":{"line":182,"column":72,"offset":5915},"indent":[]}}],"position":{"start":{"line":182,"column":67,"offset":5910},"end":{"line":182,"column":109,"offset":5952},"indent":[]}},{"type":"text","value":", or you can use pre-existing objects within R, for example, country-level data within the ","position":{"start":{"line":182,"column":109,"offset":5952},"end":{"line":182,"column":200,"offset":6043},"indent":[]}},{"type":"inlineCode","value":"spData","position":{"start":{"line":182,"column":200,"offset":6043},"end":{"line":182,"column":208,"offset":6051},"indent":[]}},{"type":"text","value":" package:","position":{"start":{"line":182,"column":208,"offset":6051},"end":{"line":182,"column":217,"offset":6060},"indent":[]}}],"position":{"start":{"line":182,"column":1,"offset":5844},"end":{"line":182,"column":217,"offset":6060},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Accessing datasets by bounding box:","position":{"start":{"line":184,"column":1,"offset":6062},"end":{"line":184,"column":36,"offset":6097},"indent":[]}}],"position":{"start":{"line":184,"column":1,"offset":6062},"end":{"line":184,"column":36,"offset":6097},"indent":[]}},{"type":"html","lang":"{r","meta":"boundingBox}","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">brazil &lt;- '{\"type\": \"Polygon\", \n            \"coordinates\": [[\n                [-73.125, -9.102],\n                [-56.953, -33.138],\n                [-36.563, -7.711],\n                [-68.203, 13.923],\n                [-73.125, -9.102]\n              ]]}'\n# We can make the geojson a spatial object if we want to use the\n# functionality of the `sf` package.\nbrazil_sf &lt;- geojsonsf::geojson_sf(brazil)\nbrazil_datasets &lt;- get_datasets(loc = brazil_sf)\nbrazil_datasets</code></pre></div>","position":{"start":{"line":186,"column":1,"offset":6099},"end":{"line":200,"column":4,"offset":6587},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Now we have an object called ","position":{"start":{"line":202,"column":1,"offset":6589},"end":{"line":202,"column":30,"offset":6618},"indent":[]}},{"type":"inlineCode","value":"brazil_datasets","position":{"start":{"line":202,"column":30,"offset":6618},"end":{"line":202,"column":47,"offset":6635},"indent":[]}},{"type":"text","value":" that contains ","position":{"start":{"line":202,"column":47,"offset":6635},"end":{"line":202,"column":62,"offset":6650},"indent":[]}},{"type":"inlineCode","value":"r length(brazil_datasets)","position":{"start":{"line":202,"column":62,"offset":6650},"end":{"line":202,"column":89,"offset":6677},"indent":[]}},{"type":"text","value":".  ","position":{"start":{"line":202,"column":89,"offset":6677},"end":{"line":202,"column":92,"offset":6680},"indent":[]}}],"position":{"start":{"line":202,"column":1,"offset":6589},"end":{"line":202,"column":92,"offset":6680},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can plot these findings!","position":{"start":{"line":204,"column":1,"offset":6682},"end":{"line":204,"column":29,"offset":6710},"indent":[]}}],"position":{"start":{"line":204,"column":1,"offset":6682},"end":{"line":204,"column":29,"offset":6710},"indent":[]}},{"type":"html","value":"</exercise>","position":{"start":{"line":206,"column":1,"offset":6712},"end":{"line":206,"column":12,"offset":6723},"indent":[]}},{"type":"html","value":"<exercise id=\"3\" title=\"get_downloads()\">","position":{"start":{"line":208,"column":1,"offset":6725},"end":{"line":208,"column":42,"offset":6766},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"complete record","position":{"start":{"line":210,"column":1,"offset":6768},"end":{"line":210,"column":16,"offset":6783},"indent":[]}}],"position":{"start":{"line":210,"column":1,"offset":6768},"end":{"line":210,"column":16,"offset":6783},"indent":[]}},{"type":"html","value":"</exercise>","position":{"start":{"line":212,"column":1,"offset":6785},"end":{"line":212,"column":12,"offset":6796},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":212,"column":12,"offset":6796}}}}